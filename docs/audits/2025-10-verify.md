# Phase 0 â€” Verify (read-only)

Goal: Confirm current state matches expectations (no offline HTML cache, responsive heights, deterministic first paint).

## Summary
- Service Worker HTML caching: Active (needs changes)
- RankingDropdown mobile height: Too tall (40rem), no search, drops invalid ranks
- Deterministic first paint: Teams set via effect post-load (non-deterministic)
- MetricsSelector modal: No body scroll lock or focus trap

## Evidence (file:line)

### Service Worker / HTML caching
```28:43:public/sw.js
// Install: Cache critical static assets
...
return cache.addAll([
  '/',
  '/compare',
  '/icon-192.png',
  '/manifest.json'
]);
```
```320:329:public/sw.js
const response = await fetch(request);
if (response.ok) {
  // Cache successful HTML responses
  const cache = await caches.open(CACHE_NAME);
  cache.put(request, response.clone());
}
return response;
```
```75:79:app/layout.tsx
navigator.serviceWorker.register('/sw.js')
```

### RankingDropdown
```210:222:components/RankingDropdown.tsx
className={`
  absolute z-50 mt-2 w-80
  ...
  max-h-[40rem] overflow-y-auto momentum-scroll
  py-2
`}
```
```84:100:components/RankingDropdown.tsx
.map(...)
.filter(item => item.ranking)
.sort(...)
```

### First paint (Compare)
```32:39:app/compare/page.tsx
const [selectedTeamA, setSelectedTeamA] = useState<string>('');
const [selectedTeamB, setSelectedTeamB] = useState<string>('');
```
```41:64:app/compare/page.tsx
React.useEffect(() => {
  if (offenseData.length > 0 && !selectedTeamA && !selectedTeamB) {
    ...
    setSelectedTeamA(teamA);
    setSelectedTeamB(teamB);
  }
}, [offenseData, selectedTeamA, selectedTeamB]);
```

### MetricsSelector modal
```129:137:components/FloatingMetricsButton.tsx
{showSettings && (
  <motion.div className="fixed inset-0 bg-black/40 z-40" onClick={() => setShowSettings(false)} />
)}
```
(No body scroll lock; no focus trap.)

## Go/No-Go
- No-Go: Proceed to Phase 1, 2, 3, and 4 per plan.
