You are restoring the Phase 3 user experience for pills/header switching while
KEEPING Phase 4â€™s mock APIs, types, and polling infrastructure. The goal is to
make interactions feel instant and natural, exactly like Phase 3.

DO THIS AS A SMALL, SURGICAL CHANGESET. Avoid broad refactors.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¯ UX TARGET (Phase 3 feel, Phase 4 data)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- When clicking different games in the GameRail:
  â€¢ Pills update instantly with the new content.
  â€¢ No empty/dark placeholders, no white glow/overlay, no skeletons during a switch.
  â€¢ No layout shift (width/height of the pills row is stable).
  â€¢ Polling must NEVER blank or dim content mid-interaction.
- Initial page load may show skeletons once (optional), but NEVER on subsequent selections.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ” AUDIT FIRST (no changes yet)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1) Identify all Phase 4 UX-related changes:
   - components/MismatchChips.tsx
   - components/CompareHeader.tsx
   - any skeleton components used in those areas
   - any CSS that introduced overlay shimmer or background glow
   - any â€œclear-on-fetchâ€ logic for chips/header
   - polling behavior touching those states

2) Capture a quick summary (file + line refs) of:
   - where chips/header are cleared on fetch start
   - where skeletons show during selection
   - any overlay (absolute/relative) elements and their classes that add glow/whiteness
   - any new CSS tokens/util classes that could cause the white flash

Output a brief audit note as a code comment at the TOP of each edited file:
`// PHASE3_UX: <one-line note of what we are reverting here>`

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ› ï¸ IMPLEMENTATION (Phase 3 UX mode)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Keep Phase 4 data structure & endpoints. Only revert the UX behavior for selection changes.

A) Remove â€œclear-on-fetchâ€ during selection
   - In MismatchChips.tsx and CompareHeader.tsx, DO NOT clear state when a new fetch starts.
   - Keep showing previous content until the new data arrives; then swap synchronously.

B) Disable skeletons and overlays during selection
   - If `loading` is tied to selection changes, prevent skeleton render paths on selection.
   - Skeletons MAY appear only on first mount (initial page load), guarded by `isInitialMount`.
   - Remove/disable â€œoverlay shimmerâ€ or any element/class causing background â€œwhite glowâ€.

C) Stabilize layout
   - Ensure the container for pills/header keeps constant dimensions.
   - Remove conditionals that render parallel rows (skeleton + chips).
   - No added padding/margins during fetch states.

D) Key stability
   - Maintain stable React `key`s for pills. Prefer `chip.id` (server-provided) or
     `${awayAbbr}-${homeAbbr}-${chip.label}` if needed. Never use array indices.

E) Polling safety
   - Ensure polling updates do NOT reset the pills/header to â€œloadingâ€ or empty.
   - If necessary, ignore poll responses that donâ€™t change the payload (shallow compare),
     but DO NOT add heavy logicâ€”keep it minimal.

F) Optional feature flag (for easy A/B)
   - Create `src/config/ux.ts` with:
       export const UX_MODE = "phase3" as const; // "phase3" | "phase4"
   - Gate skeleton/overlay/clear-on-fetch code with `UX_MODE === "phase4"`.
   - Default now to "phase3". This keeps Phase 4 code paths available but off.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§ª ACCEPTANCE TESTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- Click through 10 different GameRail matchups rapidly:
  â€¢ Pills and header update immediately with NO dim/empty/white glow transitions.
  â€¢ No horizontal push or snap-back.
- Wait >5s to cover one poll tick:
  â€¢ No mid-content dimming or blanking.
- Hard refresh:
  â€¢ (Optional) Initial skeletons appear once; subsequent selections do not show skeletons.
- React Profiler:
  â€¢ Re-renders only; no unmount/remount of MismatchChips on selection.
- CSS/Visual:
  â€¢ No background â€œwhite glowâ€ on the pills row or header.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“¦ SCOPE OF CHANGES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- components/MismatchChips.tsx
- components/CompareHeader.tsx
- (If present) components/styles that introduced overlay shimmer/white glow
- src/config/ux.ts (new; tiny util)  â† optional but recommended
- docs/audit/qa-checklist.md â†’ add â€œPhase 3 UX restoreâ€ checklist
- docs/devnotes/2025-10-27-phases-1-4-ui-mock-api.md â†’ note the UX mode switch

DO NOT touch:
- API route contracts, types, or polling intervals
- SelectionContext shape
- ScoreboardRail logic, except to ensure it doesnâ€™t trigger â€œloadingâ€ UI paths

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“ DELIVERABLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- A small PR that:
  â€¢ Restores Phase 3 UX for selection changes
  â€¢ Leaves Phase 4 infra intact
  â€¢ Includes a short comment header in each changed file noting: `PHASE3_UX: <reason>`
  â€¢ Updates docs with QA steps
